# üöÄ Deployment Guide - AutoTrader Service (Repo 3)

## ‚úÖ Pre-Deployment Checklist

### 1. –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é
- [x] `main.py` - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –¥–≤—É–º—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º–∏ —Ü–∏–∫–ª–∞–º–∏
- [x] `pocket_option_api.py` - API wrapper –¥–ª—è Pocket Option
- [x] `requirements.txt` - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã
- [x] `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] `.env.example` - –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] `README.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```bash
# –°–∏–Ω—Ç–∞–∫—Å–∏—Å Python
python3 -m py_compile main.py pocket_option_api.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python3 -c "import main"
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Bothost

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø–∞–Ω–µ–ª–∏ Bothost:

#### Supabase (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
```
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...
```

#### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
```
ENCRYPTION_KEY=your-32-character-key-here
```
**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ö–ª—é—á –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å Repo 1 –∏ Repo 2!

#### Telegram API (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
```
TG_API_ID=12345678
TG_API_HASH=abcdef123456789
TARGET_CHAT_ID=-1001234567890
```
**–ü–æ–ª—É—á–∏—Ç—å TG_API_ID –∏ TG_API_HASH:** https://my.telegram.org/apps

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```
ADMIN_USER_ID=123456789
```

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Supabase –ë–î

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Supabase —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:

#### –¢–∞–±–ª–∏—Ü–∞ `users`:
```sql
CREATE TABLE users (
    user_id BIGINT PRIMARY KEY,
    telegram_username TEXT,
    autotrade_enabled BOOLEAN DEFAULT FALSE,
    pocket_option_email TEXT,
    pocket_option_password TEXT,
    is_real_account BOOLEAN DEFAULT FALSE,
    subscription_type TEXT DEFAULT 'free',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### –¢–∞–±–ª–∏—Ü–∞ `signals`:
```sql
CREATE TABLE signals (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    asset TEXT NOT NULL,
    direction TEXT NOT NULL,
    confidence FLOAT NOT NULL,
    source TEXT NOT NULL,
    processed_by_autotrader BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

## üì¶ –î–µ–ø–ª–æ–π –Ω–∞ Bothost

### –®–∞–≥ 1: –ö–æ–º–º–∏—Ç –∏ –ø—É—à –≤ GitHub
```bash
git add .
git commit -m "feat: complete AutoTrader Service with Telegram parser and PO integration"
git push origin main
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ Bothost
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://bothost.ai
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: "AutoTrader Service"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –í—ã–±–µ—Ä–∏—Ç–µ `main.py` –∫–∞–∫ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–í –ø–∞–Ω–µ–ª–∏ Bothost ‚Üí Settings ‚Üí Environment Variables:
- –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 3 –≤—ã—à–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `ENCRYPTION_KEY` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
Bothost –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`:
```
supabase==2.3.0
python-dotenv==1.0.0
cryptography==41.0.7
telethon==1.34.0
websockets==12.0
```

### –®–∞–≥ 5: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telethon (–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ Telethon –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:

1. –í –ª–æ–≥–∞—Ö Bothost –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤–≤–æ–¥ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. –í–∞–º –ø—Ä–∏–¥–µ—Ç—Å—è **–≤—Ä–µ–º–µ–Ω–Ω–æ** –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
3. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è `.session` —Ñ–∞–π–ª–∞, –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –ª–æ–∫–∞–ª—å–Ω–æ, –∑–∞—Ç–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç–µ `.session` —Ñ–∞–π–ª:
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
python3 -c "from telethon import TelegramClient; client = TelegramClient('autotrader_session', API_ID, API_HASH); client.start()"

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ autotrader_session.session –Ω–∞ Bothost
```

### –®–∞–≥ 6: –ó–∞–ø—É—Å–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Bothost
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ:
   - ‚úÖ "Supabase –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"
   - ‚úÖ "Telethon –∫–ª–∏–µ–Ω—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω"
   - ‚úÖ "AutoTrader Service (Repo 3) –∑–∞–ø—É—â–µ–Ω"

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram Parser
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ —Ü–µ–ª–µ–≤–æ–π —á–∞—Ç —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
–°–∏–≥–Ω–∞–ª: EURUSD | CALL (98% Confidence)
```

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üì¢ –ù–∞–π–¥–µ–Ω –≤–Ω–µ—à–Ω–∏–π —Å–∏–≥–Ω–∞–ª: EURUSD CALL (Conf: 98.0)
‚úÖ –í–Ω–µ—à–Ω–∏–π —Å–∏–≥–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Supabase
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ AutoTrader Loop
1. –í Supabase –¥–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `autotrade_enabled=true`
2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ `pocket_option_email` –∏ `pocket_option_password`
3. –í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
‚úÖ –°–µ—Å—Å–∏—è PO –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è [ID] —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤ Supabase:
```
üöÄ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–¥–µ–ª–∫–∞: EURUSD CALL –Ω–∞ $1.0
‚úÖ –°–¥–µ–ª–∫–∞ ID [ID] —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω–∞
```

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "‚ùå ENCRYPTION_KEY –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ `ENCRYPTION_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Bothost

### –û—à–∏–±–∫–∞: "‚ùå TG_API_ID/HASH/TARGET_CHAT_ID –Ω–µ –∑–∞–¥–∞–Ω—ã"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `TG_API_ID`, `TG_API_HASH`, `TARGET_CHAT_ID`

### –û—à–∏–±–∫–∞: "‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ Telethon: [401 Unauthorized]"
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ–≤–µ—Ä–Ω—ã–π API_ID –∏–ª–∏ API_HASH. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–µ –Ω–∞ https://my.telegram.org/apps

### –û—à–∏–±–∫–∞: "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª pocket_option_api.py"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `pocket_option_api.py` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

### Telethon —Ç—Ä–µ–±—É–µ—Ç –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –°–º. "–®–∞–≥ 5: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telethon" –≤—ã—à–µ

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- **Uptime** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 99.9%
- **Latency** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
- **Success Rate** - % —É—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫ vs –æ—à–∏–±–æ–∫

### –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```bash
# –£—Å–ø–µ—à–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
‚úÖ Telethon –∫–ª–∏–µ–Ω—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω
‚úÖ –°–µ—Å—Å–∏—è PO –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è [ID] —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞

# –¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
üì¢ –ù–∞–π–¥–µ–Ω –≤–Ω–µ—à–Ω–∏–π —Å–∏–≥–Ω–∞–ª: [ASSET] [DIRECTION]
üöÄ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–¥–µ–ª–∫–∞: [ASSET] [DIRECTION] –Ω–∞ $[AMOUNT]
‚úÖ –°–¥–µ–ª–∫–∞ ID [ID] —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω–∞

# –û—à–∏–±–∫–∏ (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è)
‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Supabase
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å PO API –¥–ª—è [ID]
‚ùå –û—à–∏–±–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í—Å–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –≤ –ë–î
- ‚úÖ `.env` —Ñ–∞–π–ª –≤ `.gitignore`
- ‚úÖ `.session` —Ñ–∞–π–ª—ã –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω—ã
2. Supabase –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ dashboard.supabase.com)
3. Telethon –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
4. Pocket Option API –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üéâ

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è —É –≤–∞—Å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–∏–π AutoTrader Service —Å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π –Ω–∞ Pocket Option
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥–æ–º Telegram-—Å–∏–≥–Ω–∞–ª–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å AI Core Service (Repo 2)
- ‚úÖ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
